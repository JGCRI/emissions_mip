documentation:
  description: Analysis of perturbation model outputs for Emissions-MIP
  authors:
    - nicholson_matthew
  maintainer:
    - nicholson_matthew
  references:
    - esmvaltool
  projects:
    - esmval
    - emissions_mip

- {dataset: GISS-nudge, project: CMIP6, activity: AerChemMIP, institute: NASA-GISS,
        exp: nudge-ref, ensemble: r1i1p5f1, grid: gn, start_year: 2000, end_year:
        2004}
- {dataset: GISS-nudge, project: CMIP6, activity: AerChemMIP, institute: NASA-GISS,
        exp: highSO4_so2HtBW2000, ensemble: r1i1p5f1, grid: gn, start_year: 2000,
        end_year: 2004}

preprocessors:
  preproc_mask:
    mask_landsea:
      mask_out: 'NULL'
  preproc_sfc:
    extract_levels:
      levels: 100000.0
      scheme: linear_horizontal_extrapolate_vertical
    regrid:
      target_grid: 1x1
      scheme: linear
    annual_statistics:
      operator: mean
  preproc_nolev:
    regrid:
      target_grid: 1x1
      scheme: linear
    annual_statistics:
      operator: mean

diagnostics:
  - description: Model variable outputs
    themes:
      - phys
    realms:
      - atmos
    variables:
      mmrso4:
        preprocessor: preproc_sfc
        mip: AERmon
        additional_datasets:
          - {dataset: E3SM-1-0, project: CMIP6, activity: CMIP, institute: E3SM-Project,
            exp: nudge-ref, ensemble: r1i1p5f1, grid: gr, start_year: 2000, end_year:
            2004}
          - {dataset: E3SM-1-0, project: CMIP6, activity: CMIP, institute: E3SM-Project,
            exp: nudge-high-so4-at-height, ensemble: r1i1p5f1, grid: gr, start_year:
            2000, end_year: 2004}
          - {dataset: CESM-1-0, project: CMIP6, activity: CMIP, institute: PNNL-WACCEM,
            exp: nudge-ref, ensemble: r1i1p5f1, grid: gr, start_year: 2000, end_year:
            2004}
          - {dataset: CESM-1-0, project: CMIP6, activity: CMIP, institute: PNNL-WACCEM,
            exp: , ensemble: r1i1p5f1, grid: gr, start_year: 2000, end_year: 2004}
      mmrbc:
        preprocessor: preproc_sfc
        mip: AERmon
        additional_datasets:
          - {dataset: E3SM-1-0, project: CMIP6, activity: CMIP, institute: E3SM-Project,
            exp: nudge-ref, ensemble: r1i1p5f1, grid: gr, start_year: 2000, end_year:
            2004}
          - {dataset: E3SM-1-0, project: CMIP6, activity: CMIP, institute: E3SM-Project,
            exp: nudge-high-so4-at-height, ensemble: r1i1p5f1, grid: gr, start_year:
            2000, end_year: 2004}
          - {dataset: CESM-1-0, project: CMIP6, activity: CMIP, institute: PNNL-WACCEM,
            exp: nudge-ref, ensemble: r1i1p5f1, grid: gr, start_year: 2000, end_year:
            2004}
          - {dataset: CESM-1-0, project: CMIP6, activity: CMIP, institute: PNNL-WACCEM,
            exp: , ensemble: r1i1p5f1, grid: gr, start_year: 2000, end_year: 2004}
      so2:
        preprocessor: preproc_sfc
        mip: AERmon
        additional_datasets:
          - {dataset: E3SM-1-0, project: CMIP6, activity: CMIP, institute: E3SM-Project,
            exp: nudge-ref, ensemble: r1i1p5f1, grid: gr, start_year: 2000, end_year:
            2004}
          - {dataset: E3SM-1-0, project: CMIP6, activity: CMIP, institute: E3SM-Project,
            exp: nudge-high-so4-at-height, ensemble: r1i1p5f1, grid: gr, start_year:
            2000, end_year: 2004}
          - {dataset: CESM-1-0, project: CMIP6, activity: CMIP, institute: PNNL-WACCEM,
            exp: nudge-ref, ensemble: r1i1p5f1, grid: gr, start_year: 2000, end_year:
            2004}
          - {dataset: CESM-1-0, project: CMIP6, activity: CMIP, institute: PNNL-WACCEM,
            exp: , ensemble: r1i1p5f1, grid: gr, start_year: 2000, end_year: 2004}
      rlut:
        preprocessor: preproc_nolev
        mip: Amon
        additional_datasets:
          - {dataset: E3SM-1-0, project: CMIP6, activity: CMIP, institute: E3SM-Project,
            exp: nudge-ref, ensemble: r1i1p5f1, grid: gr, start_year: 2000, end_year:
            2004}
          - {dataset: E3SM-1-0, project: CMIP6, activity: CMIP, institute: E3SM-Project,
            exp: nudge-high-so4-at-height, ensemble: r1i1p5f1, grid: gr, start_year:
            2000, end_year: 2004}
          - {dataset: CESM-1-0, project: CMIP6, activity: CMIP, institute: PNNL-WACCEM,
            exp: nudge-ref, ensemble: r1i1p5f1, grid: gr, start_year: 2000, end_year:
            2004}
          - {dataset: CESM-1-0, project: CMIP6, activity: CMIP, institute: PNNL-WACCEM,
            exp: , ensemble: r1i1p5f1, grid: gr, start_year: 2000, end_year: 2004}
      rsut:
        preprocessor: preproc_nolev
        mip: Amon
        additional_datasets:
          - {dataset: E3SM-1-0, project: CMIP6, activity: CMIP, institute: E3SM-Project,
            exp: nudge-ref, ensemble: r1i1p5f1, grid: gr, start_year: 2000, end_year:
            2004}
          - {dataset: E3SM-1-0, project: CMIP6, activity: CMIP, institute: E3SM-Project,
            exp: nudge-high-so4-at-height, ensemble: r1i1p5f1, grid: gr, start_year:
            2000, end_year: 2004}
          - {dataset: CESM-1-0, project: CMIP6, activity: CMIP, institute: PNNL-WACCEM,
            exp: nudge-ref, ensemble: r1i1p5f1, grid: gr, start_year: 2000, end_year:
            2004}
          - {dataset: CESM-1-0, project: CMIP6, activity: CMIP, institute: PNNL-WACCEM,
            exp: , ensemble: r1i1p5f1, grid: gr, start_year: 2000, end_year: 2004}
      rsdt:
        preprocessor: preproc_nolev
        mip: Amon
        additional_datasets:
          - {dataset: E3SM-1-0, project: CMIP6, activity: CMIP, institute: E3SM-Project,
            exp: nudge-ref, ensemble: r1i1p5f1, grid: gr, start_year: 2000, end_year:
            2004}
          - {dataset: E3SM-1-0, project: CMIP6, activity: CMIP, institute: E3SM-Project,
            exp: nudge-high-so4-at-height, ensemble: r1i1p5f1, grid: gr, start_year:
            2000, end_year: 2004}
          - {dataset: CESM-1-0, project: CMIP6, activity: CMIP, institute: PNNL-WACCEM,
            exp: nudge-ref, ensemble: r1i1p5f1, grid: gr, start_year: 2000, end_year:
            2004}
          - {dataset: CESM-1-0, project: CMIP6, activity: CMIP, institute: PNNL-WACCEM,
            exp: , ensemble: r1i1p5f1, grid: gr, start_year: 2000, end_year: 2004}
      rlutcs:
        preprocessor: preproc_nolev
        mip: Amon
        additional_datasets:
          - {dataset: E3SM-1-0, project: CMIP6, activity: CMIP, institute: E3SM-Project,
            exp: nudge-ref, ensemble: r1i1p5f1, grid: gr, start_year: 2000, end_year:
            2004}
          - {dataset: E3SM-1-0, project: CMIP6, activity: CMIP, institute: E3SM-Project,
            exp: nudge-high-so4-at-height, ensemble: r1i1p5f1, grid: gr, start_year:
            2000, end_year: 2004}
          - {dataset: CESM-1-0, project: CMIP6, activity: CMIP, institute: PNNL-WACCEM,
            exp: nudge-ref, ensemble: r1i1p5f1, grid: gr, start_year: 2000, end_year:
            2004}
          - {dataset: CESM-1-0, project: CMIP6, activity: CMIP, institute: PNNL-WACCEM,
            exp: , ensemble: r1i1p5f1, grid: gr, start_year: 2000, end_year: 2004}
      rsutcs:
        preprocessor: preproc_nolev
        mip: Amon
        additional_datasets:
          - {dataset: E3SM-1-0, project: CMIP6, activity: CMIP, institute: E3SM-Project,
            exp: nudge-ref, ensemble: r1i1p5f1, grid: gr, start_year: 2000, end_year:
            2004}
          - {dataset: E3SM-1-0, project: CMIP6, activity: CMIP, institute: E3SM-Project,
            exp: nudge-high-so4-at-height, ensemble: r1i1p5f1, grid: gr, start_year:
            2000, end_year: 2004}
          - {dataset: CESM-1-0, project: CMIP6, activity: CMIP, institute: PNNL-WACCEM,
            exp: nudge-ref, ensemble: r1i1p5f1, grid: gr, start_year: 2000, end_year:
            2004}
          - {dataset: CESM-1-0, project: CMIP6, activity: CMIP, institute: PNNL-WACCEM,
            exp: , ensemble: r1i1p5f1, grid: gr, start_year: 2000, end_year: 2004}
      emiso2:
        preprocessor: preproc_nolev
        mip: AERmon
        additional_datasets:
          - {dataset: E3SM-1-0, project: CMIP6, activity: CMIP, institute: E3SM-Project,
            exp: nudge-ref, ensemble: r1i1p5f1, grid: gr, start_year: 2000, end_year:
            2004}
          - {dataset: E3SM-1-0, project: CMIP6, activity: CMIP, institute: E3SM-Project,
            exp: nudge-high-so4-at-height, ensemble: r1i1p5f1, grid: gr, start_year:
            2000, end_year: 2004}
          - {dataset: CESM-1-0, project: CMIP6, activity: CMIP, institute: PNNL-WACCEM,
            exp: nudge-ref, ensemble: r1i1p5f1, grid: gr, start_year: 2000, end_year:
            2004}
          - {dataset: CESM-1-0, project: CMIP6, activity: CMIP, institute: PNNL-WACCEM,
            exp: , ensemble: r1i1p5f1, grid: gr, start_year: 2000, end_year: 2004}
      emibc:
        preprocessor: preproc_nolev
        mip: AERmon
        additional_datasets:
          - {dataset: E3SM-1-0, project: CMIP6, activity: CMIP, institute: E3SM-Project,
            exp: nudge-ref, ensemble: r1i1p5f1, grid: gr, start_year: 2000, end_year:
            2004}
          - {dataset: E3SM-1-0, project: CMIP6, activity: CMIP, institute: E3SM-Project,
            exp: nudge-high-so4-at-height, ensemble: r1i1p5f1, grid: gr, start_year:
            2000, end_year: 2004}
          - {dataset: CESM-1-0, project: CMIP6, activity: CMIP, institute: PNNL-WACCEM,
            exp: nudge-ref, ensemble: r1i1p5f1, grid: gr, start_year: 2000, end_year:
            2004}
          - {dataset: CESM-1-0, project: CMIP6, activity: CMIP, institute: PNNL-WACCEM,
            exp: , ensemble: r1i1p5f1, grid: gr, start_year: 2000, end_year: 2004}
      drybc:
        preprocessor: preproc_nolev
        mip: AERmon
        additional_datasets:
          - {dataset: E3SM-1-0, project: CMIP6, activity: CMIP, institute: E3SM-Project,
            exp: nudge-ref, ensemble: r1i1p5f1, grid: gr, start_year: 2000, end_year:
            2004}
          - {dataset: E3SM-1-0, project: CMIP6, activity: CMIP, institute: E3SM-Project,
            exp: nudge-high-so4-at-height, ensemble: r1i1p5f1, grid: gr, start_year:
            2000, end_year: 2004}
          - {dataset: CESM-1-0, project: CMIP6, activity: CMIP, institute: PNNL-WACCEM,
            exp: nudge-ref, ensemble: r1i1p5f1, grid: gr, start_year: 2000, end_year:
            2004}
          - {dataset: CESM-1-0, project: CMIP6, activity: CMIP, institute: PNNL-WACCEM,
            exp: , ensemble: r1i1p5f1, grid: gr, start_year: 2000, end_year: 2004}
      wetbc:
        preprocessor: preproc_nolev
        mip: AERmon
        additional_datasets:
          - {dataset: E3SM-1-0, project: CMIP6, activity: CMIP, institute: E3SM-Project,
            exp: nudge-ref, ensemble: r1i1p5f1, grid: gr, start_year: 2000, end_year:
            2004}
          - {dataset: E3SM-1-0, project: CMIP6, activity: CMIP, institute: E3SM-Project,
            exp: nudge-high-so4-at-height, ensemble: r1i1p5f1, grid: gr, start_year:
            2000, end_year: 2004}
          - {dataset: CESM-1-0, project: CMIP6, activity: CMIP, institute: PNNL-WACCEM,
            exp: nudge-ref, ensemble: r1i1p5f1, grid: gr, start_year: 2000, end_year:
            2004}
          - {dataset: CESM-1-0, project: CMIP6, activity: CMIP, institute: PNNL-WACCEM,
            exp: , ensemble: r1i1p5f1, grid: gr, start_year: 2000, end_year: 2004}
      dryso2:
        preprocessor: preproc_nolev
        mip: AERmon
      wetso2:
        preprocessor: preproc_nolev
        mip: AERmon
      dryso4:
        preprocessor: preproc_nolev
        mip: AERmon
        additional_datasets:
          - {dataset: E3SM-1-0, project: CMIP6, activity: CMIP, institute: E3SM-Project,
            exp: nudge-ref, ensemble: r1i1p5f1, grid: gr, start_year: 2000, end_year:
            2004}
          - {dataset: E3SM-1-0, project: CMIP6, activity: CMIP, institute: E3SM-Project,
            exp: nudge-high-so4-at-height, ensemble: r1i1p5f1, grid: gr, start_year:
            2000, end_year: 2004}
          - {dataset: CESM-1-0, project: CMIP6, activity: CMIP, institute: PNNL-WACCEM,
            exp: nudge-ref, ensemble: r1i1p5f1, grid: gr, start_year: 2000, end_year:
            2004}
          - {dataset: CESM-1-0, project: CMIP6, activity: CMIP, institute: PNNL-WACCEM,
            exp: , ensemble: r1i1p5f1, grid: gr, start_year: 2000, end_year: 2004}
      wetso4:
        preprocessor: preproc_nolev
        mip: AERmon
        additional_datasets:
          - {dataset: E3SM-1-0, project: CMIP6, activity: CMIP, institute: E3SM-Project,
            exp: nudge-ref, ensemble: r1i1p5f1, grid: gr, start_year: 2000, end_year:
            2004}
          - {dataset: E3SM-1-0, project: CMIP6, activity: CMIP, institute: E3SM-Project,
            exp: nudge-high-so4-at-height, ensemble: r1i1p5f1, grid: gr, start_year:
            2000, end_year: 2004}
          - {dataset: CESM-1-0, project: CMIP6, activity: CMIP, institute: PNNL-WACCEM,
            exp: nudge-ref, ensemble: r1i1p5f1, grid: gr, start_year: 2000, end_year:
            2004}
          - {dataset: CESM-1-0, project: CMIP6, activity: CMIP, institute: PNNL-WACCEM,
            exp: , ensemble: r1i1p5f1, grid: gr, start_year: 2000, end_year: 2004}
      loadso2:
        preprocessor: preproc_nolev
        mip: Emon
        additional_datasets:
          - {dataset: E3SM-1-0, project: CMIP6, activity: CMIP, institute: E3SM-Project,
            exp: nudge-ref, ensemble: r1i1p5f1, grid: gr, start_year: 2000, end_year:
            2004}
          - {dataset: E3SM-1-0, project: CMIP6, activity: CMIP, institute: E3SM-Project,
            exp: nudge-high-so4-at-height, ensemble: r1i1p5f1, grid: gr, start_year:
            2000, end_year: 2004}
          - {dataset: CESM-1-0, project: CMIP6, activity: CMIP, institute: PNNL-WACCEM,
            exp: nudge-ref, ensemble: r1i1p5f1, grid: gr, start_year: 2000, end_year:
            2004}
          - {dataset: CESM-1-0, project: CMIP6, activity: CMIP, institute: PNNL-WACCEM,
            exp: , ensemble: r1i1p5f1, grid: gr, start_year: 2000, end_year: 2004}
      loadso4:
        preprocessor: preproc_nolev
        mip: Emon
        additional_datasets:
          - {dataset: E3SM-1-0, project: CMIP6, activity: CMIP, institute: E3SM-Project,
            exp: nudge-ref, ensemble: r1i1p5f1, grid: gr, start_year: 2000, end_year:
            2004}
          - {dataset: E3SM-1-0, project: CMIP6, activity: CMIP, institute: E3SM-Project,
            exp: nudge-high-so4-at-height, ensemble: r1i1p5f1, grid: gr, start_year:
            2000, end_year: 2004}
          - {dataset: CESM-1-0, project: CMIP6, activity: CMIP, institute: PNNL-WACCEM,
            exp: nudge-ref, ensemble: r1i1p5f1, grid: gr, start_year: 2000, end_year:
            2004}
          - {dataset: CESM-1-0, project: CMIP6, activity: CMIP, institute: PNNL-WACCEM,
            exp: , ensemble: r1i1p5f1, grid: gr, start_year: 2000, end_year: 2004}
      loadbc:
        preprocessor: preproc_nolev
        mip: Emon
        additional_datasets:
          - {dataset: E3SM-1-0, project: CMIP6, activity: CMIP, institute: E3SM-Project,
            exp: nudge-ref, ensemble: r1i1p5f1, grid: gr, start_year: 2000, end_year:
            2004}
          - {dataset: E3SM-1-0, project: CMIP6, activity: CMIP, institute: E3SM-Project,
            exp: nudge-high-so4-at-height, ensemble: r1i1p5f1, grid: gr, start_year:
            2000, end_year: 2004}
          - {dataset: CESM-1-0, project: CMIP6, activity: CMIP, institute: PNNL-WACCEM,
            exp: nudge-ref, ensemble: r1i1p5f1, grid: gr, start_year: 2000, end_year:
            2004}
          - {dataset: CESM-1-0, project: CMIP6, activity: CMIP, institute: PNNL-WACCEM,
            exp: , ensemble: r1i1p5f1, grid: gr, start_year: 2000, end_year: 2004}
      dms:
        preprocessor: preproc_nolev
        mip: AERmon
      cl:
        preprocessor: preproc_nolev
        mip: Amon
        additional_datasets:
          - {dataset: E3SM-1-0, project: CMIP6, activity: CMIP, institute: E3SM-Project,
            exp: nudge-ref, ensemble: r1i1p5f1, grid: gr, start_year: 2000, end_year:
            2004}
          - {dataset: E3SM-1-0, project: CMIP6, activity: CMIP, institute: E3SM-Project,
            exp: nudge-high-so4-at-height, ensemble: r1i1p5f1, grid: gr, start_year:
            2000, end_year: 2004}
          - {dataset: CESM-1-0, project: CMIP6, activity: CMIP, institute: PNNL-WACCEM,
            exp: nudge-ref, ensemble: r1i1p5f1, grid: gr, start_year: 2000, end_year:
            2004}
          - {dataset: CESM-1-0, project: CMIP6, activity: CMIP, institute: PNNL-WACCEM,
            exp: , ensemble: r1i1p5f1, grid: gr, start_year: 2000, end_year: 2004}
      clivi:
        preprocessor: preproc_nolev
        mip: Amon
        additional_datasets:
          - {dataset: E3SM-1-0, project: CMIP6, activity: CMIP, institute: E3SM-Project,
            exp: nudge-ref, ensemble: r1i1p5f1, grid: gr, start_year: 2000, end_year:
            2004}
          - {dataset: E3SM-1-0, project: CMIP6, activity: CMIP, institute: E3SM-Project,
            exp: nudge-high-so4-at-height, ensemble: r1i1p5f1, grid: gr, start_year:
            2000, end_year: 2004}
          - {dataset: CESM-1-0, project: CMIP6, activity: CMIP, institute: PNNL-WACCEM,
            exp: nudge-ref, ensemble: r1i1p5f1, grid: gr, start_year: 2000, end_year:
            2004}
          - {dataset: CESM-1-0, project: CMIP6, activity: CMIP, institute: PNNL-WACCEM,
            exp: , ensemble: r1i1p5f1, grid: gr, start_year: 2000, end_year: 2004}
      od550aer:
        preprocessor: preproc_nolev
        mip: AERmon
        additional_datasets:
          - {dataset: E3SM-1-0, project: CMIP6, activity: CMIP, institute: E3SM-Project,
            exp: nudge-ref, ensemble: r1i1p5f1, grid: gr, start_year: 2000, end_year:
            2004}
          - {dataset: E3SM-1-0, project: CMIP6, activity: CMIP, institute: E3SM-Project,
            exp: nudge-high-so4-at-height, ensemble: r1i1p5f1, grid: gr, start_year:
            2000, end_year: 2004}
          - {dataset: CESM-1-0, project: CMIP6, activity: CMIP, institute: PNNL-WACCEM,
            exp: nudge-ref, ensemble: r1i1p5f1, grid: gr, start_year: 2000, end_year:
            2004}
          - {dataset: CESM-1-0, project: CMIP6, activity: CMIP, institute: PNNL-WACCEM,
            exp: , ensemble: r1i1p5f1, grid: gr, start_year: 2000, end_year: 2004}
      clt:
        preprocessor: preproc_nolev
        mip: Amon
        additional_datasets:
          - {dataset: E3SM-1-0, project: CMIP6, activity: CMIP, institute: E3SM-Project,
            exp: nudge-ref, ensemble: r1i1p5f1, grid: gr, start_year: 2000, end_year:
            2004}
          - {dataset: E3SM-1-0, project: CMIP6, activity: CMIP, institute: E3SM-Project,
            exp: nudge-high-so4-at-height, ensemble: r1i1p5f1, grid: gr, start_year:
            2000, end_year: 2004}
          - {dataset: CESM-1-0, project: CMIP6, activity: CMIP, institute: PNNL-WACCEM,
            exp: nudge-ref, ensemble: r1i1p5f1, grid: gr, start_year: 2000, end_year:
            2004}
          - {dataset: CESM-1-0, project: CMIP6, activity: CMIP, institute: PNNL-WACCEM,
            exp: , ensemble: r1i1p5f1, grid: gr, start_year: 2000, end_year: 2004}
      cltc:
        preprocessor: preproc_nolev
        mip: AERmon
    scripts:
      initial_analysis_output:
        script: /pic/projects/GCAM/Emissions-MIP/ESMValTool/esmvaltool/diag_scripts/emissions_mip/initial_analysis-giss-diff.py
        quickplot:
          plot_type: pcolormesh

